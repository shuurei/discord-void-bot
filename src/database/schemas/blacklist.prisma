enum BlacklistStatus {
    CLOSED
    PENDING
    CLAIMED
    TREATED
}

model Blacklist {
    threadId String? @unique

    context String?
    reason  String?

    targetId String @id
    target   User   @relation("Target", fields: [targetId], references: [id], onDelete: Cascade)

    authorId String
    author   User   @relation("Author", fields: [authorId], references: [id], onDelete: Cascade)

    cleanerId String?
    cleaner   User?   @relation("Cleaner", fields: [cleanerId], references: [id], onDelete: Cascade)

    guildId String
    guild   Guild  @relation(fields: [guildId], references: [id], onDelete: Cascade)

    status BlacklistStatus @default(PENDING)

    blacklistedAt DateTime @default(now())

    derogations BlacklistDerogation[]
}
